"use strict";!function(){if("undefined"!=typeof knife_theme_custom){var e=document.querySelector(".entry-content");if(null!==e&&void 0!==knife_theme_custom.ajaxurl){var a,i,s,r=document.createElement("form");document.querySelector(".entry-content").appendChild(r);var t=d("classes");0<t.length&&(r.className=t.join(" "));e=d("heading");return 0<e.length&&((t=document.createElement("h4")).classList.add("form__heading"),t.textContent=e,r.appendChild(t)),r.classList.add("form","form--club"),r.addEventListener("submit",function(e){e.preventDefault();var e={nonce:d("nonce"),time:d("time"),name:r.querySelector('input[name="name"]').value,email:r.querySelector('input[name="email"]').value,subject:r.querySelector('input[name="subject"]').value,text:r.querySelector('textarea[name="text"]').value},n=new XMLHttpRequest;return n.open("POST",knife_theme_custom.ajaxurl+"/club"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(e)),n.onload=function(){if(o(!0),200!==n.status)return l();var e,t=JSON.parse(n.responseText);return t.success?(e=(e=t.message)||"",i.classList.add("icon--done"),a.innerHTML=e,localStorage.removeItem("knife_form_write"),r.reset()):l(t.message)},o(!1)}),function(e){var t,n,r,o=knife_theme_custom.fields;for(t in o)o.hasOwnProperty(t)&&c(t,o[t],e);n=e,(r=document.createElement("div")).classList.add("form__control"),(i=document.createElement("span")).classList.add("form__control-loader","icon"),r.appendChild(i),(a=document.createElement("span")).classList.add("form__control-notice"),r.appendChild(a),(s=document.createElement("button")).classList.add("form__control-button","button"),s.innerHTML=d("button","Send"),r.appendChild(s),n.appendChild(r)}(r)}}function c(e,t,n){if(void 0!==t.element){var r=document.createElement(t.element);r.classList.add("form__field-"+t.element),r.setAttribute("name",e);var o,a=document.createElement("div");for(o in a.classList.add("form__field"),a.appendChild(r),delete t.element,t)r.setAttribute(o,t[o]);return r.value=(e=e,(JSON.parse(localStorage.getItem("knife_form_write"))||{})[e]||""),r.addEventListener("input",function(e){var t,n,r;t=this.name,n=this.value,(r=JSON.parse(localStorage.getItem("knife_form_write"))||{})[t]=n,localStorage.setItem("knife_form_write",JSON.stringify(r))}),r.addEventListener("focus",function(e){n.classList.remove("form--fold")}),n.appendChild(a)}}function o(e){return i.classList.remove("icon--loop"),void 0===e||!0===e?s.removeAttribute("disabled",""):(i.classList.remove("icon--alert","icon--done"),i.classList.add("icon--loop"),a.innerHTML="",s.setAttribute("disabled",""))}function l(e){e=e||d("warning","Request error");i.classList.add("icon--alert"),a.innerHTML=e}function d(e,t){return knife_theme_custom.hasOwnProperty(e)?knife_theme_custom[e]:t||""}}();